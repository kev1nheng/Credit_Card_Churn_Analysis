****************************************************************;
******             DECISION TREE SCORING CODE             ******;
****************************************************************;
 
******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
LENGTH F_Attrition_Flag  $   17;
LENGTH I_Attrition_Flag  $   17;
LENGTH U_Attrition_Flag  $   17;
LENGTH _WARN_  $    4;
 
******              LABELS FOR NEW VARIABLES              ******;
label _NODE_ = 'Node' ;
label _LEAF_ = 'Leaf' ;
label P_Attrition_Flag0 = 'Predicted: Attrition_Flag=0' ;
label P_Attrition_Flag1 = 'Predicted: Attrition_Flag=1' ;
label Q_Attrition_Flag0 = 'Unadjusted P: Attrition_Flag=0' ;
label Q_Attrition_Flag1 = 'Unadjusted P: Attrition_Flag=1' ;
label V_Attrition_Flag0 = 'Validated: Attrition_Flag=0' ;
label V_Attrition_Flag1 = 'Validated: Attrition_Flag=1' ;
label R_Attrition_Flag0 = 'Residual: Attrition_Flag=0' ;
label R_Attrition_Flag1 = 'Residual: Attrition_Flag=1' ;
label F_Attrition_Flag = 'From: Attrition_Flag' ;
label I_Attrition_Flag = 'Into: Attrition_Flag' ;
label U_Attrition_Flag = 'Unnormalized Into: Attrition_Flag' ;
label _WARN_ = 'Warnings' ;
 
 
******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
LENGTH _ARBFMT_17 $     17; DROP _ARBFMT_17;
_ARBFMT_17 = ' '; /* Initialize to avoid warning. */
LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
 
 
_ARBFMT_17 = PUT( Attrition_Flag , $CHAR17.);
 %DMNORMCP( _ARBFMT_17, F_Attrition_Flag );
 
******             ASSIGN OBSERVATION TO NODE             ******;
_ARBFMT_12 = PUT( G_Total_Trans_Ct , BEST12.);
 %DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('1' ,'3' ,'4' ,'2' ,'0' ) THEN DO;
  IF  NOT MISSING(RANGE_Total_Revolving_Bal ) AND
    RANGE_Total_Revolving_Bal  <     0.24215335717123 THEN DO;
    IF  NOT MISSING(RANGE_SQRT_Total_Ct_Chng_Q4_Q1 ) AND
          0.45221286754555 <= RANGE_SQRT_Total_Ct_Chng_Q4_Q1  THEN DO;
      _ARBFMT_12 = PUT( G_Total_Relationship_Count , BEST12.);
       %DMNORMIP( _ARBFMT_12);
      IF _ARBFMT_12 IN ('0' ) THEN DO;
        _NODE_  =                   26;
        _LEAF_  =                   38;
        P_Attrition_Flag0  =     0.05555555555555;
        P_Attrition_Flag1  =     0.94444444444444;
        Q_Attrition_Flag0  =     0.05555555555555;
        Q_Attrition_Flag1  =     0.94444444444444;
        V_Attrition_Flag0  =     0.11111111111111;
        V_Attrition_Flag1  =     0.88888888888888;
        I_Attrition_Flag  = '1' ;
        U_Attrition_Flag  = '1' ;
        END;
      ELSE DO;
        IF  NOT MISSING(RANGE_SQRT_Total_Amt_Chng_Q4_Q1 ) AND
          RANGE_SQRT_Total_Amt_Chng_Q4_Q1  <     0.43199033198472 THEN DO;
          _NODE_  =                   48;
          _LEAF_  =                   39;
          P_Attrition_Flag0  =                  0.4;
          P_Attrition_Flag1  =                  0.6;
          Q_Attrition_Flag0  =                  0.4;
          Q_Attrition_Flag1  =                  0.6;
          V_Attrition_Flag0  =     0.33333333333333;
          V_Attrition_Flag1  =     0.66666666666666;
          I_Attrition_Flag  = '1' ;
          U_Attrition_Flag  = '1' ;
          END;
        ELSE DO;
          _NODE_  =                   49;
          _LEAF_  =                   40;
          P_Attrition_Flag0  =               0.8125;
          P_Attrition_Flag1  =               0.1875;
          Q_Attrition_Flag0  =               0.8125;
          Q_Attrition_Flag1  =               0.1875;
          V_Attrition_Flag0  =                  0.8;
          V_Attrition_Flag1  =                  0.2;
          I_Attrition_Flag  = '0' ;
          U_Attrition_Flag  = '0' ;
          END;
        END;
      END;
    ELSE DO;
      _ARBFMT_12 = PUT( G_Months_Inactive_12_mon , BEST12.);
       %DMNORMIP( _ARBFMT_12);
      IF _ARBFMT_12 IN ('4' ) THEN DO;
        _NODE_  =                   24;
        _LEAF_  =                   32;
        P_Attrition_Flag0  =                 0.54;
        P_Attrition_Flag1  =                 0.46;
        Q_Attrition_Flag0  =                 0.54;
        Q_Attrition_Flag1  =                 0.46;
        V_Attrition_Flag0  =     0.83333333333333;
        V_Attrition_Flag1  =     0.16666666666666;
        I_Attrition_Flag  = '0' ;
        U_Attrition_Flag  = '0' ;
        END;
      ELSE DO;
        _ARBFMT_12 = PUT( G_Customer_Age , BEST12.);
         %DMNORMIP( _ARBFMT_12);
        IF _ARBFMT_12 IN ('9' ) THEN DO;
          _NODE_  =                   44;
          _LEAF_  =                   33;
          P_Attrition_Flag0  =                 0.75;
          P_Attrition_Flag1  =                 0.25;
          Q_Attrition_Flag0  =                 0.75;
          Q_Attrition_Flag1  =                 0.25;
          V_Attrition_Flag0  =                    1;
          V_Attrition_Flag1  =                    0;
          I_Attrition_Flag  = '0' ;
          U_Attrition_Flag  = '0' ;
          END;
        ELSE DO;
          IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
            RANGE_LOG_Total_Trans_Amt  <     0.10455689918435 THEN DO;
            _ARBFMT_12 = PUT( G_Total_Relationship_Count , BEST12.);
             %DMNORMIP( _ARBFMT_12);
            IF _ARBFMT_12 IN ('2' ) THEN DO;
              IF  NOT MISSING(RANGE_SQRT_Total_Amt_Chng_Q4_Q1 ) AND
                    0.43956355842133 <= RANGE_SQRT_Total_Amt_Chng_Q4_Q1
                   THEN DO;
                _NODE_  =                  181;
                _LEAF_  =                   36;
                P_Attrition_Flag0  =     0.77777777777777;
                P_Attrition_Flag1  =     0.22222222222222;
                Q_Attrition_Flag0  =     0.77777777777777;
                Q_Attrition_Flag1  =     0.22222222222222;
                V_Attrition_Flag0  =     0.88888888888888;
                V_Attrition_Flag1  =     0.11111111111111;
                I_Attrition_Flag  = '0' ;
                U_Attrition_Flag  = '0' ;
                END;
              ELSE DO;
                _NODE_  =                  180;
                _LEAF_  =                   35;
                P_Attrition_Flag0  =     0.26666666666666;
                P_Attrition_Flag1  =     0.73333333333333;
                Q_Attrition_Flag0  =     0.26666666666666;
                Q_Attrition_Flag1  =     0.73333333333333;
                V_Attrition_Flag0  =     0.33333333333333;
                V_Attrition_Flag1  =     0.66666666666666;
                I_Attrition_Flag  = '1' ;
                U_Attrition_Flag  = '1' ;
                END;
              END;
            ELSE DO;
              _NODE_  =                  120;
              _LEAF_  =                   34;
              P_Attrition_Flag0  =      0.1081081081081;
              P_Attrition_Flag1  =     0.89189189189189;
              Q_Attrition_Flag0  =      0.1081081081081;
              Q_Attrition_Flag1  =     0.89189189189189;
              V_Attrition_Flag0  =     0.16666666666666;
              V_Attrition_Flag1  =     0.83333333333333;
              I_Attrition_Flag  = '1' ;
              U_Attrition_Flag  = '1' ;
              END;
            END;
          ELSE DO;
            _NODE_  =                   81;
            _LEAF_  =                   37;
            P_Attrition_Flag0  =      0.0360110803324;
            P_Attrition_Flag1  =     0.96398891966759;
            Q_Attrition_Flag0  =      0.0360110803324;
            Q_Attrition_Flag1  =     0.96398891966759;
            V_Attrition_Flag0  =     0.05882352941176;
            V_Attrition_Flag1  =     0.94117647058823;
            I_Attrition_Flag  = '1' ;
            U_Attrition_Flag  = '1' ;
            END;
          END;
        END;
      END;
    END;
  ELSE DO;
    _ARBFMT_12 = PUT( G_Total_Relationship_Count , BEST12.);
     %DMNORMIP( _ARBFMT_12);
    IF _ARBFMT_12 IN ('0' ) THEN DO;
      _ARBFMT_12 = PUT( G_Months_Inactive_12_mon , BEST12.);
       %DMNORMIP( _ARBFMT_12);
      IF _ARBFMT_12 IN ('4' ) THEN DO;
        _NODE_  =                   29;
        _LEAF_  =                   44;
        P_Attrition_Flag0  =     0.66666666666666;
        P_Attrition_Flag1  =     0.33333333333333;
        Q_Attrition_Flag0  =     0.66666666666666;
        Q_Attrition_Flag1  =     0.33333333333333;
        V_Attrition_Flag0  =     0.66666666666666;
        V_Attrition_Flag1  =     0.33333333333333;
        I_Attrition_Flag  = '0' ;
        U_Attrition_Flag  = '0' ;
        END;
      ELSE DO;
        IF  NOT MISSING(RANGE_SQRT_Total_Ct_Chng_Q4_Q1 ) AND
              0.43753508527028 <= RANGE_SQRT_Total_Ct_Chng_Q4_Q1  THEN DO;
          IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
            RANGE_LOG_Total_Trans_Amt  <     0.12518504649037 THEN DO;
            _NODE_  =                   88;
            _LEAF_  =                   42;
            P_Attrition_Flag0  =     0.66666666666666;
            P_Attrition_Flag1  =     0.33333333333333;
            Q_Attrition_Flag0  =     0.66666666666666;
            Q_Attrition_Flag1  =     0.33333333333333;
            V_Attrition_Flag0  =                  0.6;
            V_Attrition_Flag1  =                  0.4;
            I_Attrition_Flag  = '0' ;
            U_Attrition_Flag  = '0' ;
            END;
          ELSE DO;
            _NODE_  =                   89;
            _LEAF_  =                   43;
            P_Attrition_Flag0  =     0.23529411764705;
            P_Attrition_Flag1  =     0.76470588235294;
            Q_Attrition_Flag0  =     0.23529411764705;
            Q_Attrition_Flag1  =     0.76470588235294;
            V_Attrition_Flag0  =                  0.2;
            V_Attrition_Flag1  =                  0.8;
            I_Attrition_Flag  = '1' ;
            U_Attrition_Flag  = '1' ;
            END;
          END;
        ELSE DO;
          _NODE_  =                   50;
          _LEAF_  =                   41;
          P_Attrition_Flag0  =     0.04477611940298;
          P_Attrition_Flag1  =     0.95522388059701;
          Q_Attrition_Flag0  =     0.04477611940298;
          Q_Attrition_Flag1  =     0.95522388059701;
          V_Attrition_Flag0  =                 0.04;
          V_Attrition_Flag1  =                 0.96;
          I_Attrition_Flag  = '1' ;
          U_Attrition_Flag  = '1' ;
          END;
        END;
      END;
    ELSE DO;
      IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
            0.11922630474959 <= RANGE_LOG_Total_Trans_Amt  THEN DO;
        IF  NOT MISSING(RANGE_SQRT_Total_Ct_Chng_Q4_Q1 ) AND
          RANGE_SQRT_Total_Ct_Chng_Q4_Q1  <     0.41234945173394 THEN DO;
          _ARBFMT_12 = PUT( G_Customer_Age , BEST12.);
           %DMNORMIP( _ARBFMT_12);
          IF _ARBFMT_12 IN ('9' ,'8' ) THEN DO;
            _NODE_  =                   94;
            _LEAF_  =                   47;
            P_Attrition_Flag0  =                 0.85;
            P_Attrition_Flag1  =                 0.15;
            Q_Attrition_Flag0  =                 0.85;
            Q_Attrition_Flag1  =                 0.15;
            V_Attrition_Flag0  =                 0.75;
            V_Attrition_Flag1  =                 0.25;
            I_Attrition_Flag  = '0' ;
            U_Attrition_Flag  = '0' ;
            END;
          ELSE DO;
            IF  NOT MISSING(RANGE_SQRT_Avg_Utilization_Ratio ) AND
              RANGE_SQRT_Avg_Utilization_Ratio
                 <     0.54890616290935 THEN DO;
              IF  NOT MISSING(RANGE_SQRT_Total_Ct_Chng_Q4_Q1 ) AND
                    0.38951475728176 <= RANGE_SQRT_Total_Ct_Chng_Q4_Q1
                   THEN DO;
                _NODE_  =                  197;
                _LEAF_  =                   49;
                P_Attrition_Flag0  =     0.83333333333333;
                P_Attrition_Flag1  =     0.16666666666666;
                Q_Attrition_Flag0  =     0.83333333333333;
                Q_Attrition_Flag1  =     0.16666666666666;
                V_Attrition_Flag0  =     0.66666666666666;
                V_Attrition_Flag1  =     0.33333333333333;
                I_Attrition_Flag  = '0' ;
                U_Attrition_Flag  = '0' ;
                END;
              ELSE DO;
                _NODE_  =                  196;
                _LEAF_  =                   48;
                P_Attrition_Flag0  =                  0.3;
                P_Attrition_Flag1  =                  0.7;
                Q_Attrition_Flag0  =                  0.3;
                Q_Attrition_Flag1  =                  0.7;
                V_Attrition_Flag0  =                  0.5;
                V_Attrition_Flag1  =                  0.5;
                I_Attrition_Flag  = '1' ;
                U_Attrition_Flag  = '1' ;
                END;
              END;
            ELSE DO;
              IF  NOT MISSING(RANGE_SQRT_Total_Amt_Chng_Q4_Q1 ) AND
                    0.53282607355155 <= RANGE_SQRT_Total_Amt_Chng_Q4_Q1
                   THEN DO;
                _NODE_  =                  199;
                _LEAF_  =                   51;
                P_Attrition_Flag0  =     0.66666666666666;
                P_Attrition_Flag1  =     0.33333333333333;
                Q_Attrition_Flag0  =     0.66666666666666;
                Q_Attrition_Flag1  =     0.33333333333333;
                V_Attrition_Flag0  =     0.66666666666666;
                V_Attrition_Flag1  =     0.33333333333333;
                I_Attrition_Flag  = '0' ;
                U_Attrition_Flag  = '0' ;
                END;
              ELSE DO;
                _NODE_  =                  198;
                _LEAF_  =                   50;
                P_Attrition_Flag0  =                0.075;
                P_Attrition_Flag1  =                0.925;
                Q_Attrition_Flag0  =                0.075;
                Q_Attrition_Flag1  =                0.925;
                V_Attrition_Flag0  =     0.06666666666666;
                V_Attrition_Flag1  =     0.93333333333333;
                I_Attrition_Flag  = '1' ;
                U_Attrition_Flag  = '1' ;
                END;
              END;
            END;
          END;
        ELSE DO;
          IF  NOT MISSING(RANGE_Total_Revolving_Bal ) AND
                0.99463647199046 <= RANGE_Total_Revolving_Bal  THEN DO;
            IF  NOT MISSING(RANGE_SQRT_Total_Ct_Chng_Q4_Q1 ) AND
                   0.4523299955855 <= RANGE_SQRT_Total_Ct_Chng_Q4_Q1  THEN DO;
              _NODE_  =                  145;
              _LEAF_  =                   56;
              P_Attrition_Flag0  =     0.88888888888888;
              P_Attrition_Flag1  =     0.11111111111111;
              Q_Attrition_Flag0  =     0.88888888888888;
              Q_Attrition_Flag1  =     0.11111111111111;
              V_Attrition_Flag0  =                  0.5;
              V_Attrition_Flag1  =                  0.5;
              I_Attrition_Flag  = '0' ;
              U_Attrition_Flag  = '0' ;
              END;
            ELSE DO;
              _NODE_  =                  144;
              _LEAF_  =                   55;
              P_Attrition_Flag0  =     0.18181818181818;
              P_Attrition_Flag1  =     0.81818181818181;
              Q_Attrition_Flag0  =     0.18181818181818;
              Q_Attrition_Flag1  =     0.81818181818181;
              V_Attrition_Flag0  =                    0;
              V_Attrition_Flag1  =                    1;
              I_Attrition_Flag  = '1' ;
              U_Attrition_Flag  = '1' ;
              END;
            END;
          ELSE DO;
            IF  NOT MISSING(RANGE_SQRT_Avg_Utilization_Ratio ) AND
                  0.87422091928403 <= RANGE_SQRT_Avg_Utilization_Ratio
                 THEN DO;
              IF  NOT MISSING(RANGE_SQRT_Total_Ct_Chng_Q4_Q1 ) AND
                    0.45753335515667 <= RANGE_SQRT_Total_Ct_Chng_Q4_Q1
                   THEN DO;
                _NODE_  =                  203;
                _LEAF_  =                   54;
                P_Attrition_Flag0  =                0.875;
                P_Attrition_Flag1  =                0.125;
                Q_Attrition_Flag0  =                0.875;
                Q_Attrition_Flag1  =                0.125;
                V_Attrition_Flag0  =                    1;
                V_Attrition_Flag1  =                    0;
                I_Attrition_Flag  = '0' ;
                U_Attrition_Flag  = '0' ;
                END;
              ELSE DO;
                _NODE_  =                  202;
                _LEAF_  =                   53;
                P_Attrition_Flag0  =     0.22222222222222;
                P_Attrition_Flag1  =     0.77777777777777;
                Q_Attrition_Flag0  =     0.22222222222222;
                Q_Attrition_Flag1  =     0.77777777777777;
                V_Attrition_Flag0  =                    0;
                V_Attrition_Flag1  =                    1;
                I_Attrition_Flag  = '1' ;
                U_Attrition_Flag  = '1' ;
                END;
              END;
            ELSE DO;
              _NODE_  =                  142;
              _LEAF_  =                   52;
              P_Attrition_Flag0  =                 0.92;
              P_Attrition_Flag1  =                 0.08;
              Q_Attrition_Flag0  =                 0.92;
              Q_Attrition_Flag1  =                 0.08;
              V_Attrition_Flag0  =     0.89361702127659;
              V_Attrition_Flag1  =      0.1063829787234;
              I_Attrition_Flag  = '0' ;
              U_Attrition_Flag  = '0' ;
              END;
            END;
          END;
        END;
      ELSE DO;
        IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
          RANGE_LOG_Total_Trans_Amt  <     0.03539998717758 THEN DO;
          _NODE_  =                   54;
          _LEAF_  =                   45;
          P_Attrition_Flag0  =     0.09090909090909;
          P_Attrition_Flag1  =      0.9090909090909;
          Q_Attrition_Flag0  =     0.09090909090909;
          Q_Attrition_Flag1  =      0.9090909090909;
          V_Attrition_Flag0  =                  0.2;
          V_Attrition_Flag1  =                  0.8;
          I_Attrition_Flag  = '1' ;
          U_Attrition_Flag  = '1' ;
          END;
        ELSE DO;
          _NODE_  =                   55;
          _LEAF_  =                   46;
          P_Attrition_Flag0  =     0.93779160186625;
          P_Attrition_Flag1  =     0.06220839813374;
          Q_Attrition_Flag0  =     0.93779160186625;
          Q_Attrition_Flag1  =     0.06220839813374;
          V_Attrition_Flag0  =     0.95555555555555;
          V_Attrition_Flag1  =     0.04444444444444;
          I_Attrition_Flag  = '0' ;
          U_Attrition_Flag  = '0' ;
          END;
        END;
      END;
    END;
  END;
ELSE DO;
  IF  NOT MISSING(RANGE_SQRT_Total_Ct_Chng_Q4_Q1 ) AND
    RANGE_SQRT_Total_Ct_Chng_Q4_Q1  <      0.3183909236815 THEN DO;
    IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
          0.09312695012822 <= RANGE_LOG_Total_Trans_Amt  THEN DO;
      _ARBFMT_12 = PUT( G_Total_Trans_Ct , BEST12.);
       %DMNORMIP( _ARBFMT_12);
      IF _ARBFMT_12 IN ('5' ) THEN DO;
        _NODE_  =                   18;
        _LEAF_  =                    5;
        P_Attrition_Flag0  =     0.13333333333333;
        P_Attrition_Flag1  =     0.86666666666666;
        Q_Attrition_Flag0  =     0.13333333333333;
        Q_Attrition_Flag1  =     0.86666666666666;
        V_Attrition_Flag0  =     0.14285714285714;
        V_Attrition_Flag1  =     0.85714285714285;
        I_Attrition_Flag  = '1' ;
        U_Attrition_Flag  = '1' ;
        END;
      ELSE DO;
        _NODE_  =                   19;
        _LEAF_  =                    6;
        P_Attrition_Flag0  =                  0.8;
        P_Attrition_Flag1  =                  0.2;
        Q_Attrition_Flag0  =                  0.8;
        Q_Attrition_Flag1  =                  0.2;
        V_Attrition_Flag0  =                    1;
        V_Attrition_Flag1  =                    0;
        I_Attrition_Flag  = '0' ;
        U_Attrition_Flag  = '0' ;
        END;
      END;
    ELSE DO;
      IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
        RANGE_LOG_Total_Trans_Amt  <     0.04063848760383 THEN DO;
        _NODE_  =                   16;
        _LEAF_  =                    1;
        P_Attrition_Flag0  =                    0;
        P_Attrition_Flag1  =                    1;
        Q_Attrition_Flag0  =                    0;
        Q_Attrition_Flag1  =                    1;
        V_Attrition_Flag0  =                    0;
        V_Attrition_Flag1  =                    0;
        I_Attrition_Flag  = '1' ;
        U_Attrition_Flag  = '1' ;
        END;
      ELSE DO;
        IF  NOT MISSING(RANGE_Total_Revolving_Bal ) AND
              0.95053635280095 <= RANGE_Total_Revolving_Bal  THEN DO;
          _NODE_  =                   33;
          _LEAF_  =                    4;
          P_Attrition_Flag0  =                    0;
          P_Attrition_Flag1  =                    1;
          Q_Attrition_Flag0  =                    0;
          Q_Attrition_Flag1  =                    1;
          V_Attrition_Flag0  =                    0;
          V_Attrition_Flag1  =                    1;
          I_Attrition_Flag  = '1' ;
          U_Attrition_Flag  = '1' ;
          END;
        ELSE DO;
          IF  NOT MISSING(RANGE_SQRT_Total_Amt_Chng_Q4_Q1 ) AND
            RANGE_SQRT_Total_Amt_Chng_Q4_Q1  <     0.30399187060514 THEN DO;
            _NODE_  =                   58;
            _LEAF_  =                    2;
            P_Attrition_Flag0  =                  0.2;
            P_Attrition_Flag1  =                  0.8;
            Q_Attrition_Flag0  =                  0.2;
            Q_Attrition_Flag1  =                  0.8;
            V_Attrition_Flag0  =     0.14285714285714;
            V_Attrition_Flag1  =     0.85714285714285;
            I_Attrition_Flag  = '1' ;
            U_Attrition_Flag  = '1' ;
            END;
          ELSE DO;
            _NODE_  =                   59;
            _LEAF_  =                    3;
            P_Attrition_Flag0  =     0.87692307692307;
            P_Attrition_Flag1  =     0.12307692307692;
            Q_Attrition_Flag0  =     0.87692307692307;
            Q_Attrition_Flag1  =     0.12307692307692;
            V_Attrition_Flag0  =     0.73333333333333;
            V_Attrition_Flag1  =     0.26666666666666;
            I_Attrition_Flag  = '0' ;
            U_Attrition_Flag  = '0' ;
            END;
          END;
        END;
      END;
    END;
  ELSE DO;
    IF  NOT MISSING(RANGE_Total_Revolving_Bal ) AND
      RANGE_Total_Revolving_Bal  <     0.22804926499801 THEN DO;
      IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
            0.34801787120737 <= RANGE_LOG_Total_Trans_Amt  THEN DO;
        _ARBFMT_12 = PUT( G_Total_Trans_Ct , BEST12.);
         %DMNORMIP( _ARBFMT_12);
        IF _ARBFMT_12 IN ('5' ,'6' ) THEN DO;
          _NODE_  =                   39;
          _LEAF_  =                   19;
          P_Attrition_Flag0  =     0.01492537313432;
          P_Attrition_Flag1  =     0.98507462686567;
          Q_Attrition_Flag0  =     0.01492537313432;
          Q_Attrition_Flag1  =     0.98507462686567;
          V_Attrition_Flag0  =                    0;
          V_Attrition_Flag1  =                    1;
          I_Attrition_Flag  = '1' ;
          U_Attrition_Flag  = '1' ;
          END;
        ELSE DO;
          IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
                0.68728789103993 <= RANGE_LOG_Total_Trans_Amt  THEN DO;
            _NODE_  =                   67;
            _LEAF_  =                   18;
            P_Attrition_Flag0  =                    1;
            P_Attrition_Flag1  =                    0;
            Q_Attrition_Flag0  =                    1;
            Q_Attrition_Flag1  =                    0;
            V_Attrition_Flag0  =                    1;
            V_Attrition_Flag1  =                    0;
            I_Attrition_Flag  = '0' ;
            U_Attrition_Flag  = '0' ;
            END;
          ELSE DO;
            IF  NOT MISSING(RANGE_SQRT_Total_Ct_Chng_Q4_Q1 ) AND
              RANGE_SQRT_Total_Ct_Chng_Q4_Q1  <     0.43258488457259 THEN DO;
              IF  NOT MISSING(RANGE_SQRT_Total_Amt_Chng_Q4_Q1 ) AND
                    0.50504321182854 <= RANGE_SQRT_Total_Amt_Chng_Q4_Q1
                   THEN DO;
                _NODE_  =                  161;
                _LEAF_  =                   16;
                P_Attrition_Flag0  =     0.42857142857142;
                P_Attrition_Flag1  =     0.57142857142857;
                Q_Attrition_Flag0  =     0.42857142857142;
                Q_Attrition_Flag1  =     0.57142857142857;
                V_Attrition_Flag0  =                    0;
                V_Attrition_Flag1  =                    1;
                I_Attrition_Flag  = '1' ;
                U_Attrition_Flag  = '1' ;
                END;
              ELSE DO;
                _NODE_  =                  160;
                _LEAF_  =                   15;
                P_Attrition_Flag0  =     0.96551724137931;
                P_Attrition_Flag1  =     0.03448275862068;
                Q_Attrition_Flag0  =     0.96551724137931;
                Q_Attrition_Flag1  =     0.03448275862068;
                V_Attrition_Flag0  =                    1;
                V_Attrition_Flag1  =                    0;
                I_Attrition_Flag  = '0' ;
                U_Attrition_Flag  = '0' ;
                END;
              END;
            ELSE DO;
              _NODE_  =                  109;
              _LEAF_  =                   17;
              P_Attrition_Flag0  =     0.26086956521739;
              P_Attrition_Flag1  =      0.7391304347826;
              Q_Attrition_Flag0  =     0.26086956521739;
              Q_Attrition_Flag1  =      0.7391304347826;
              V_Attrition_Flag0  =     0.28571428571428;
              V_Attrition_Flag1  =     0.71428571428571;
              I_Attrition_Flag  = '1' ;
              U_Attrition_Flag  = '1' ;
              END;
            END;
          END;
        END;
      ELSE DO;
        _ARBFMT_12 = PUT( G_Total_Trans_Ct , BEST12.);
         %DMNORMIP( _ARBFMT_12);
        IF _ARBFMT_12 IN ('5' ) THEN DO;
          IF  NOT MISSING(RANGE_SQRT_Total_Ct_Chng_Q4_Q1 ) AND
            RANGE_SQRT_Total_Ct_Chng_Q4_Q1  <     0.39278572866989 THEN DO;
            _ARBFMT_12 = PUT( G_Months_Inactive_12_mon , BEST12.);
             %DMNORMIP( _ARBFMT_12);
            IF _ARBFMT_12 IN ('4' ) THEN DO;
              _NODE_  =                  105;
              _LEAF_  =                    9;
              P_Attrition_Flag0  =                  0.7;
              P_Attrition_Flag1  =                  0.3;
              Q_Attrition_Flag0  =                  0.7;
              Q_Attrition_Flag1  =                  0.3;
              V_Attrition_Flag0  =                    1;
              V_Attrition_Flag1  =                    0;
              I_Attrition_Flag  = '0' ;
              U_Attrition_Flag  = '0' ;
              END;
            ELSE DO;
              _NODE_  =                  104;
              _LEAF_  =                    8;
              P_Attrition_Flag0  =     0.17073170731707;
              P_Attrition_Flag1  =     0.82926829268292;
              Q_Attrition_Flag0  =     0.17073170731707;
              Q_Attrition_Flag1  =     0.82926829268292;
              V_Attrition_Flag0  =                  0.2;
              V_Attrition_Flag1  =                  0.8;
              I_Attrition_Flag  = '1' ;
              U_Attrition_Flag  = '1' ;
              END;
            END;
          ELSE DO;
            _ARBFMT_12 = PUT( G_Total_Relationship_Count , BEST12.);
             %DMNORMIP( _ARBFMT_12);
            IF _ARBFMT_12 IN ('0' ) THEN DO;
              _NODE_  =                  106;
              _LEAF_  =                   10;
              P_Attrition_Flag0  =     0.26666666666666;
              P_Attrition_Flag1  =     0.73333333333333;
              Q_Attrition_Flag0  =     0.26666666666666;
              Q_Attrition_Flag1  =     0.73333333333333;
              V_Attrition_Flag0  =                    0;
              V_Attrition_Flag1  =                    1;
              I_Attrition_Flag  = '1' ;
              U_Attrition_Flag  = '1' ;
              END;
            ELSE DO;
              IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
                    0.19694236549537 <= RANGE_LOG_Total_Trans_Amt  THEN DO;
                _NODE_  =                  159;
                _LEAF_  =                   14;
                P_Attrition_Flag0  =                0.975;
                P_Attrition_Flag1  =                0.025;
                Q_Attrition_Flag0  =                0.975;
                Q_Attrition_Flag1  =                0.025;
                V_Attrition_Flag0  =                    1;
                V_Attrition_Flag1  =                    0;
                I_Attrition_Flag  = '0' ;
                U_Attrition_Flag  = '0' ;
                END;
              ELSE DO;
                IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
                      0.11578300596794 <= RANGE_LOG_Total_Trans_Amt  THEN DO;
                  IF  NOT MISSING(RANGE_SQRT_Total_Amt_Chng_Q4_Q1 ) AND
                        0.51285981573527 <= RANGE_SQRT_Total_Amt_Chng_Q4_Q1
                       THEN DO;
                    _NODE_  =                  279;
                    _LEAF_  =                   13;
                    P_Attrition_Flag0  =                  0.9;
                    P_Attrition_Flag1  =                  0.1;
                    Q_Attrition_Flag0  =                  0.9;
                    Q_Attrition_Flag1  =                  0.1;
                    V_Attrition_Flag0  =     0.66666666666666;
                    V_Attrition_Flag1  =     0.33333333333333;
                    I_Attrition_Flag  = '0' ;
                    U_Attrition_Flag  = '0' ;
                    END;
                  ELSE DO;
                    _NODE_  =                  278;
                    _LEAF_  =                   12;
                    P_Attrition_Flag0  =     0.28571428571428;
                    P_Attrition_Flag1  =     0.71428571428571;
                    Q_Attrition_Flag0  =     0.28571428571428;
                    Q_Attrition_Flag1  =     0.71428571428571;
                    V_Attrition_Flag0  =                  0.4;
                    V_Attrition_Flag1  =                  0.6;
                    I_Attrition_Flag  = '1' ;
                    U_Attrition_Flag  = '1' ;
                    END;
                  END;
                ELSE DO;
                  _NODE_  =                  212;
                  _LEAF_  =                   11;
                  P_Attrition_Flag0  =     0.90566037735849;
                  P_Attrition_Flag1  =      0.0943396226415;
                  Q_Attrition_Flag0  =     0.90566037735849;
                  Q_Attrition_Flag1  =      0.0943396226415;
                  V_Attrition_Flag0  =     0.92307692307692;
                  V_Attrition_Flag1  =     0.07692307692307;
                  I_Attrition_Flag  = '0' ;
                  U_Attrition_Flag  = '0' ;
                  END;
                END;
              END;
            END;
          END;
        ELSE DO;
          _NODE_  =                   36;
          _LEAF_  =                    7;
          P_Attrition_Flag0  =     0.98959687906371;
          P_Attrition_Flag1  =     0.01040312093628;
          Q_Attrition_Flag0  =     0.98959687906371;
          Q_Attrition_Flag1  =     0.01040312093628;
          V_Attrition_Flag0  =     0.97630331753554;
          V_Attrition_Flag1  =     0.02369668246445;
          I_Attrition_Flag  = '0' ;
          U_Attrition_Flag  = '0' ;
          END;
        END;
      END;
    ELSE DO;
      IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
        RANGE_LOG_Total_Trans_Amt  <     0.03340216054825 THEN DO;
        _NODE_  =                   22;
        _LEAF_  =                   20;
        P_Attrition_Flag0  =                    0;
        P_Attrition_Flag1  =                    1;
        Q_Attrition_Flag0  =                    0;
        Q_Attrition_Flag1  =                    1;
        V_Attrition_Flag0  =                    0;
        V_Attrition_Flag1  =                    1;
        I_Attrition_Flag  = '1' ;
        U_Attrition_Flag  = '1' ;
        END;
      ELSE DO;
        IF  NOT MISSING(RANGE_Total_Revolving_Bal ) AND
              0.99940405244338 <= RANGE_Total_Revolving_Bal  THEN DO;
          IF  NOT MISSING(RANGE_SQRT_Total_Ct_Chng_Q4_Q1 ) AND
            RANGE_SQRT_Total_Ct_Chng_Q4_Q1  <     0.36248390962168 THEN DO;
            _NODE_  =                   72;
            _LEAF_  =                   28;
            P_Attrition_Flag0  =     0.27272727272727;
            P_Attrition_Flag1  =     0.72727272727272;
            Q_Attrition_Flag0  =     0.27272727272727;
            Q_Attrition_Flag1  =     0.72727272727272;
            V_Attrition_Flag0  =                    1;
            V_Attrition_Flag1  =                    0;
            I_Attrition_Flag  = '1' ;
            U_Attrition_Flag  = '1' ;
            END;
          ELSE DO;
            IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
                   0.5078915992207 <= RANGE_LOG_Total_Trans_Amt  THEN DO;
              IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
                RANGE_LOG_Total_Trans_Amt  <     0.69408037642344 THEN DO;
                _NODE_  =                  174;
                _LEAF_  =                   30;
                P_Attrition_Flag0  =     0.31818181818181;
                P_Attrition_Flag1  =     0.68181818181818;
                Q_Attrition_Flag0  =     0.31818181818181;
                Q_Attrition_Flag1  =     0.68181818181818;
                V_Attrition_Flag0  =     0.16666666666666;
                V_Attrition_Flag1  =     0.83333333333333;
                I_Attrition_Flag  = '1' ;
                U_Attrition_Flag  = '1' ;
                END;
              ELSE DO;
                _NODE_  =                  175;
                _LEAF_  =                   31;
                P_Attrition_Flag0  =                    1;
                P_Attrition_Flag1  =                    0;
                Q_Attrition_Flag0  =                    1;
                Q_Attrition_Flag1  =                    0;
                V_Attrition_Flag0  =                    1;
                V_Attrition_Flag1  =                    0;
                I_Attrition_Flag  = '0' ;
                U_Attrition_Flag  = '0' ;
                END;
              END;
            ELSE DO;
              _NODE_  =                  116;
              _LEAF_  =                   29;
              P_Attrition_Flag0  =     0.94267515923566;
              P_Attrition_Flag1  =     0.05732484076433;
              Q_Attrition_Flag0  =     0.94267515923566;
              Q_Attrition_Flag1  =     0.05732484076433;
              V_Attrition_Flag0  =               0.9375;
              V_Attrition_Flag1  =               0.0625;
              I_Attrition_Flag  = '0' ;
              U_Attrition_Flag  = '0' ;
              END;
            END;
          END;
        ELSE DO;
          IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
                0.34036717463282 <= RANGE_LOG_Total_Trans_Amt  THEN DO;
            _ARBFMT_12 = PUT( G_Total_Trans_Ct , BEST12.);
             %DMNORMIP( _ARBFMT_12);
            IF _ARBFMT_12 IN ('7' ) THEN DO;
              _NODE_  =                  112;
              _LEAF_  =                   25;
              P_Attrition_Flag0  =     0.97766097240473;
              P_Attrition_Flag1  =     0.02233902759526;
              Q_Attrition_Flag0  =     0.97766097240473;
              Q_Attrition_Flag1  =     0.02233902759526;
              V_Attrition_Flag0  =     0.99528301886792;
              V_Attrition_Flag1  =     0.00471698113207;
              I_Attrition_Flag  = '0' ;
              U_Attrition_Flag  = '0' ;
              END;
            ELSE DO;
              IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
                RANGE_LOG_Total_Trans_Amt  <     0.39467030301083 THEN DO;
                _NODE_  =                  170;
                _LEAF_  =                   26;
                P_Attrition_Flag0  =     0.83333333333333;
                P_Attrition_Flag1  =     0.16666666666666;
                Q_Attrition_Flag0  =     0.83333333333333;
                Q_Attrition_Flag1  =     0.16666666666666;
                V_Attrition_Flag0  =                    1;
                V_Attrition_Flag1  =                    0;
                I_Attrition_Flag  = '0' ;
                U_Attrition_Flag  = '0' ;
                END;
              ELSE DO;
                _NODE_  =                  171;
                _LEAF_  =                   27;
                P_Attrition_Flag0  =     0.21428571428571;
                P_Attrition_Flag1  =     0.78571428571428;
                Q_Attrition_Flag0  =     0.21428571428571;
                Q_Attrition_Flag1  =     0.78571428571428;
                V_Attrition_Flag0  =     0.28571428571428;
                V_Attrition_Flag1  =     0.71428571428571;
                I_Attrition_Flag  = '1' ;
                U_Attrition_Flag  = '1' ;
                END;
              END;
            END;
          ELSE DO;
            IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
              RANGE_LOG_Total_Trans_Amt  <     0.17794703865872 THEN DO;
              _ARBFMT_12 = PUT( G_Total_Relationship_Count , BEST12.);
               %DMNORMIP( _ARBFMT_12);
              IF _ARBFMT_12 IN ('0' ) THEN DO;
                IF  NOT MISSING(RANGE_LOG_Total_Trans_Amt ) AND
                      0.08908868992172 <= RANGE_LOG_Total_Trans_Amt  THEN DO;
                  _NODE_  =                  223;
                  _LEAF_  =                   22;
                  P_Attrition_Flag0  =     0.14285714285714;
                  P_Attrition_Flag1  =     0.85714285714285;
                  Q_Attrition_Flag0  =     0.14285714285714;
                  Q_Attrition_Flag1  =     0.85714285714285;
                  V_Attrition_Flag0  =                    0;
                  V_Attrition_Flag1  =                    1;
                  I_Attrition_Flag  = '1' ;
                  U_Attrition_Flag  = '1' ;
                  END;
                ELSE DO;
                  _NODE_  =                  222;
                  _LEAF_  =                   21;
                  P_Attrition_Flag0  =     0.92307692307692;
                  P_Attrition_Flag1  =     0.07692307692307;
                  Q_Attrition_Flag0  =     0.92307692307692;
                  Q_Attrition_Flag1  =     0.07692307692307;
                  V_Attrition_Flag0  =                    1;
                  V_Attrition_Flag1  =                    0;
                  I_Attrition_Flag  = '0' ;
                  U_Attrition_Flag  = '0' ;
                  END;
                END;
              ELSE DO;
                _NODE_  =                  165;
                _LEAF_  =                   23;
                P_Attrition_Flag0  =     0.96840442338072;
                P_Attrition_Flag1  =     0.03159557661927;
                Q_Attrition_Flag0  =     0.96840442338072;
                Q_Attrition_Flag1  =     0.03159557661927;
                V_Attrition_Flag0  =     0.97382198952879;
                V_Attrition_Flag1  =      0.0261780104712;
                I_Attrition_Flag  = '0' ;
                U_Attrition_Flag  = '0' ;
                END;
              END;
            ELSE DO;
              _NODE_  =                  111;
              _LEAF_  =                   24;
              P_Attrition_Flag0  =     0.99786233433091;
              P_Attrition_Flag1  =     0.00213766566908;
              Q_Attrition_Flag0  =     0.99786233433091;
              Q_Attrition_Flag1  =     0.00213766566908;
              V_Attrition_Flag0  =     0.99698340874811;
              V_Attrition_Flag1  =     0.00301659125188;
              I_Attrition_Flag  = '0' ;
              U_Attrition_Flag  = '0' ;
              END;
            END;
          END;
        END;
      END;
    END;
  END;
 
*****  RESIDUALS R_ *************;
IF  F_Attrition_Flag  NE '0'
AND F_Attrition_Flag  NE '1'  THEN DO;
        R_Attrition_Flag0  = .;
        R_Attrition_Flag1  = .;
 END;
 ELSE DO;
       R_Attrition_Flag0  =  -P_Attrition_Flag0 ;
       R_Attrition_Flag1  =  -P_Attrition_Flag1 ;
       SELECT( F_Attrition_Flag  );
          WHEN( '0'  ) R_Attrition_Flag0  = R_Attrition_Flag0  +1;
          WHEN( '1'  ) R_Attrition_Flag1  = R_Attrition_Flag1  +1;
       END;
 END;
 
****************************************************************;
******          END OF DECISION TREE SCORING CODE         ******;
****************************************************************;
 
drop _LEAF_;
